# 회원가입/로그인 구현 마일스톤 (2025.04.26)

## 1. 데이터베이스 설정 [완료]
- [x] SQLite 데이터베이스 초기화
- [x] Users 테이블 스키마 설계 및 생성
- [x] SQLAlchemy User 모델 정의

## 2. FastAPI 프로젝트 구조 설정 [완료]
- [x] 프로젝트 디렉토리 구조 설정
  ```
  src/
  ├── api/
  │   ├── __init__.py
  │   ├── endpoints/
  │   │   ├── __init__.py
  │   │   ├── auth.py
  │   │   └── users.py
  │   └── dependencies.py
  ├── core/
  │   ├── __init__.py
  │   ├── config.py
  │   └── security.py
  ├── schemas/
  │   ├── __init__.py
  │   └── user.py
  └── main.py
  ```
- [x] 기본 설정 파일 (config.py) 생성
- [x] 의존성 주입 설정

## 3. 기본 CRUD 기능 구현 [현재 진행중]
- [x] Pydantic 스키마 정의
  - [x] 사용자 등록 스키마 (UserCreate)
  - [x] 사용자 정보 응답 스키마 (User)
- [x] API 엔드포인트 구현
  - [x] 회원가입 엔드포인트 (/auth/register)
  - [x] 사용자 정보 조회 엔드포인트 (/users/me)
- [ ] 프론트엔드 연동
  - [x] 회원가입 폼 구현
  - [ ] API 연동 테스트

## 4. 보안 기능 구현 [나중에 진행]
- [ ] 비밀번호 해싱 유틸리티 구현
- [ ] JWT 토큰 생성 및 검증 유틸리티 구현
- [ ] 보안 관련 환경 변수 설정 (.env 파일)
- [ ] 로그인 엔드포인트 (/auth/login) 구현
- [ ] 토큰 기반 인증 적용

## 5. 유효성 검사 및 예외 처리 [나중에 진행]
- [ ] 입력 데이터 유효성 검사 강화
- [ ] 예외 처리 미들웨어 구현
- [ ] 에러 응답 표준화

## 6. 테스트 구현 [나중에 진행]
- [ ] 단위 테스트 작성
  - User 모델 테스트
  - API 엔드포인트 테스트
- [ ] 통합 테스트 작성
  - 회원가입/조회 API 테스트
  - 프론트엔드 연동 테스트

## 참고사항
- 기본 CRUD 기능이 정상 작동하는지 확인 후 보안 기능 구현
- 각 단계 완료 후 테스트 및 검증 필요
- 프론트엔드와 백엔드 연동이 원활한지 지속적으로 확인 

---

# 데이터베이스 설정 및 자동화 업데이트 (2025.05.09)

## 1. 데이터베이스 마이그레이션 [완료]
- [x] MySQL 8.0 데이터베이스 설정
- [x] 테이블 스키마 설계 및 구현
  - [x] Users 테이블
  - [x] Posts 테이블
  - [x] Comments 테이블
  - [x] Attachments 테이블
  - [x] Notifications 테이블
- [x] 트리거 구현
  - [x] 게시글 삭제 시 관련 데이터 정리
  - [x] 댓글 삭제 제한 (대댓글 존재 시)
  - [x] 댓글 작성 시 알림 생성

## 2. 데이터베이스 자동화 [완료]
- [x] Docker Compose 설정
  - [x] MySQL 컨테이너 설정
  - [x] 볼륨 마운트 설정
  - [x] 환경 변수 설정
- [x] 초기화 스크립트 구현
  - [x] 데이터베이스 생성 및 스키마 적용
  - [x] 트리거 적용
  - [x] 초기 관리자 계정 생성
- [x] 재초기화 스크립트 구현
  - [x] Windows 배치 스크립트 (init_db.bat)
  - [x] Linux/Mac 쉘 스크립트 (init_db.sh)
  - [x] 안전장치 (사용자 확인) 추가

## 3. 보안 설정 [완료]
- [x] 데이터베이스 접근 권한 설정
- [x] 초기 관리자 계정 설정
  - [x] ID: admin
  - [x] 비밀번호: 1324 (개발 환경용)

## 다음 단계
1. [ ] 비밀번호 해싱 구현
2. [ ] JWT 토큰 기반 인증 구현
3. [ ] API 엔드포인트 보안 강화
4. [ ] 사용자 권한 관리 구현

## 참고사항
- 개발 환경에서만 사용할 수 있는 초기 관리자 계정이 생성됩니다.
- 실제 운영 환경에서는 반드시 비밀번호를 해시화하여 저장해야 합니다.
- 대댓글이 있는 댓글은 삭제할 수 없도록 제한되어 있습니다.
- 데이터베이스 재초기화 시 사용자 확인 절차가 추가되었습니다. 